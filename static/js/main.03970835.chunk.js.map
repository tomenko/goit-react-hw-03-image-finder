{"version":3,"sources":["api/ApiService.js","components/Searchbar/Searchbar.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Button/Button.jsx","components/Modal/Modal.jsx","components/Loader/loader.jsx","App.js","index.js"],"names":["searchQuery","page","axios","get","then","response","data","hits","Searchbar","state","search","hendleInputChange","event","setState","currentTarget","value","handleSubmit","preventDefault","props","onChangeQuery","reset","this","className","onSubmit","type","name","id","shortid","generate","placeholder","onChange","Component","ImageGalleryItem","url","alt","onClick","src","ImageGallery","map","webformatURL","largeImageURL","tags","Button","modalRoot","document","getElementById","Modal","handleKeydown","code","onClose","handleBackdropClick","target","window","addEventListener","removeEventListener","createPortal","LoaderApp","color","height","width","timeout","App","error","showModal","largeImg","largeImgTags","isLoading","fetchLength","fetchImgs","options","api","prevState","length","catch","finally","query","onHitClick","hit","toggleModal","prevProps","scrollTo","top","documentElement","scrollHeight","behavior","alert","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.03970835.chunk.js","sourcesContent":["import axios from 'axios';\r\nconst KEY_API = '8571186-3ddb33152fc2603bb66488997';\r\n\r\nconst fetchImgs = ({ searchQuery = '', page = 1 }) => {\r\n  return axios\r\n    .get(\r\n      `https://pixabay.com/api/?q=${searchQuery}&page=${page}&key=${KEY_API}&image_type=photo&orientation=horizontal&per_page=12`,\r\n    )\r\n    .then(response => response.data.hits);\r\n};\r\n\r\nexport default {fetchImgs};","import React, { Component } from 'react';\r\nimport shortid from 'shortid';\r\n\r\nclass Searchbar extends Component {\r\n    state = {\r\n        search: ''\r\n    };\r\n\r\n    hendleInputChange = event => {\r\n        this.setState({ search: event.currentTarget.value });\r\n    };\r\n\r\n    handleSubmit = event => {\r\n      event.preventDefault();\r\n      this.props.onChangeQuery(this.state.search)\r\n      this.reset()\r\n    };\r\n    \r\n    reset = () => {\r\n      this.setState({ search: ''})\r\n    };\r\n\r\n    render() {\r\n        const { search } = this.state;\r\n        const hendleInputChange = this.hendleInputChange;\r\n\r\n        return (\r\n            <>\r\n                <header className=\"Searchbar\">\r\n                    <form className=\"SearchForm\" onSubmit = {this.handleSubmit}>\r\n                        <button type=\"submit\" className=\"SearchForm-button\">\r\n                            <span className=\"SearchForm-button-label\">Search</span>\r\n                        </button>\r\n\r\n                        <input\r\n                            className=\"SearchForm-input\"\r\n                            type=\"text\"\r\n                            name=\"searchQuery\"\r\n                            id = {shortid.generate()}\r\n                            value={search}\r\n                            /* autocomplete=\"off\" */\r\n                            /* autofocus */\r\n                            placeholder=\"Search images and photos\"\r\n                            onChange = {hendleInputChange}\r\n                        />\r\n                    </form>\r\n                </header>  \r\n            </>\r\n        )\r\n    }\r\n};\r\n\r\n\r\nexport default Searchbar;\r\n\r\n","import PropTypes from 'prop-types';\r\n\r\nconst ImageGalleryItem = ({ url, alt, onClick }) => (\r\n\t<>\r\n\t\t<img\r\n\t\t\tsrc={url}\r\n\t\t\talt={alt}\r\n\t\t\tonClick={onClick} className=\"ImageGalleryItem-image\"\r\n\t\t/>\r\n\t</>\r\n);\r\n\r\nImageGalleryItem.propTypes = {\r\n\turl: PropTypes.string.isRequired,\r\n\talt: PropTypes.string.isRequired,\r\n\tonClick: PropTypes.func.isRequired,\r\n}\r\n\r\nexport default ImageGalleryItem;\r\n","import PropTypes from 'prop-types';\r\nimport ImageGalleryItem from '../ImageGalleryItem';\r\n\r\nconst ImageGallery = ({hits, onClick}) => {\r\n    return (\r\n        <ul className=\"ImageGallery\">\r\n        {hits.map(({ id, webformatURL, largeImageURL, tags }) => (\r\n            <li key={id} className=\"ImageGalleryItem\">\r\n                <ImageGalleryItem\r\n\t\t\t\t\turl={webformatURL}\r\n\t\t\t\t\talt={tags}\r\n\t\t\t\t\tonClick={()=>onClick(largeImageURL, tags)}\r\n\t\t\t\t/>\r\n            </li>))}\r\n        </ul>\r\n    )\r\n};\r\n\r\nImageGallery.propTypes = {\r\n\tpics: PropTypes.arrayOf(PropTypes.shape({\r\n\t\tid: PropTypes.number.isRequired,\r\n\t})),\r\n\tonClick: PropTypes.func.isRequired,\r\n}\r\n\r\nexport default ImageGallery;","const Button = ({ onClick }) => {\r\n    \r\n    return (\r\n    <div className=\"Container\">\r\n        <button type = 'button' onClick = {onClick} className=\"Button\">Load more</button>  \r\n    </div>\r\n    );\r\n    \r\n};\r\n/* import React, { Component } from 'react';\r\nclass Button extends Component {\r\n    componentDidUpdate(prevProps, prevState) {\r\n\r\n        if (prevProps.page > 2) {\r\n          window.scrollTo({\r\n            top: document.documentElement.scrollHeight,\r\n            behavior: 'smooth',\r\n          });\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"Container\">\r\n                <button type = 'button' onClick = {this.props.onClick} className=\"Button\">Load more</button>  \r\n            </div>\r\n        );\r\n    }\r\n}\r\n */\r\nexport default Button;","import React, { Component } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst modalRoot = document.getElementById('modal-root');\r\n\r\nclass Modal extends Component {\r\n\t\r\n\tcomponentDidMount() {\r\n\t\twindow.addEventListener('keydown', this.handleKeydown);\r\n\t};\r\n\r\n\tcomponentWillUnmount() {\r\n\t\twindow.removeEventListener('keydown', this.handleKeydown);\r\n\t};\r\n\t\r\n\thandleKeydown = event => {\r\n\t\tif (event.code === 'Escape') {\r\n\t\t\tthis.props.onClose();\r\n\t\t};\r\n\t};\r\n\r\n\thandleBackdropClick = event => {\r\n\t\tif (event.currentTarget === event.target) {\r\n\t\t\tthis.props.onClose()\r\n\t\t};\r\n\t};\r\n\r\n\trender() {\r\n\t\tconst { url, alt} = this.props\r\n\t\treturn createPortal(\r\n\t\t\t<div className=\"Overlay\" onClick={ this.handleBackdropClick}>\r\n  \t\t\t<div className=\"Modal\">\r\n\t\t\t\t\t<img src={url} alt={alt} />\r\n \t\t\t\t</div>\r\n\t\t\t</div>, modalRoot\r\n\t\t);\r\n\t}\r\n};\r\n\r\nModal.propTypes = {\r\n\turl: PropTypes.string.isRequired,\r\n\talt: PropTypes.string.isRequired,\r\n\tonClose: PropTypes.func.isRequired,\r\n}\r\n\r\nexport default Modal;","import React, { Component } from 'react';\r\nimport Loader from \"react-loader-spinner\";\r\n\r\nclass LoaderApp extends Component {\r\n  render() {\r\n    return (\r\n    <Loader\r\n        className=\"Container\"\r\n        type=\"Puff\"\r\n        color=\"#3f51b5\"\r\n        height={100}\r\n        width={100}\r\n        timeout={3000}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nexport default LoaderApp;","import './App.css';\nimport React, { Component } from 'react';\nimport api from './api/ApiService';\nimport Searchbar from './components/Searchbar';\nimport ImageGallery from './components/ImageGallery';\nimport Button from './components/Button';\nimport Modal from './components/Modal';\nimport Loader from './components/Loader';\n\nclass App extends Component {\n  state = {\n    hits: [],\n    page: null,//1\n    searchQuery: '',\n    error: null,\n    showModal: false,\n    largeImg: '',\n    largeImgTags: '',\n    isLoading: false,\n    fetchLength: '',\n  };\n  \n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.searchQuery !== this.state.searchQuery) {\n      this.fetchImgs();\n    }\n\n    if (this.state.page > 2) {\n      window.scrollTo({\n        top: document.documentElement.scrollHeight,\n        behavior: 'smooth',\n      });\n    }\n  };\n  \n\n  fetchImgs = () => {\n    const { searchQuery, page } = this.state;\n    /* const KEY_API = '8571186-3ddb33152fc2603bb66488997';\n    axios\n      .get(\n        `https://pixabay.com/api/?q=${searchQuery}&page=${page}&key=${KEY_API}&image_type=photo&orientation=horizontal&per_page=12`\n      )\n      .then(response => { this.setState({ hits: response.data.hits }); }); */\n    const options = { searchQuery, page };\n    this.setState({ isLoading: true });\n    api\n      .fetchImgs(options)\n      .then(hits => {\n        this.setState(prevState => ({\n          hits: [...prevState.hits, ...hits],\n          page: prevState.page + 1,\n          fetchLength: hits.length,\n        }));\n      })\n      .catch(error => this.setState({ error }))\n      .finally(() => {\n        this.setState({ isLoading: false })\n      });\n  };\n\n  /* onChangeQuery = query => {\n    console.log(query);\n    console.log(this.state.searchQuery);\n    this.setState({\n      searchQuery: query\n    })\n  }; */\n\n  onChangeQuery = query => {\n    if (query !== this.state.searchQuery) {\n      this.setState({ hits: [], page: 1 });\n    }\n    this.setState({\n      searchQuery: query,\n    });\n  };\n\n  onHitClick = (hit, tags) => {\n    this.setState({ showModal: true, largeImg: hit, largeImgTags: tags });\n  };\n\n  toggleModal = () => {\n    this.setState(prevState => ({ showModal: !prevState.showModal }));\n  };\n\n  render() {\n    const {\n      hits,\n      largeImg,\n      largeImgTags,\n      showModal,\n      isLoading,\n      page,\n      error,\n      fetchLength,\n    } = this.state;\n\n    const onChangeQuery = this.onChangeQuery;\n    const onHitClick = this.onHitClick;\n    const fetchImgs = this.fetchImgs;\n    const toggleModal = this.toggleModal;\n\n    return (\n      <div>\n        <Searchbar\n          onChangeQuery={onChangeQuery}\n        />\n\n        <ImageGallery\n          hits={hits}\n          onClick={onHitClick}\n        />\n\n        {hits.length !== 0 && fetchLength === 12 && !isLoading &&\n          <Button\n            onClick={fetchImgs}\n            page={page}\n          />\n        }\n\n        {isLoading && (<Loader />)}\n\n        {error && (\n          alert(\"Please try again\")\n        )}\n\n        {showModal && (\n          <Modal\n            url={largeImg}\n            alt={largeImgTags}\n            onClose={toggleModal}\n          />\n        )}\n      </div>\n    );\n  }\n};\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}